;/*FB_PKG_DELIM*/

__d("useUnifiedSharesheetSubmitHandlers",["fbt","CometLinkSharingUtil","ComposerSubmissionFlowTypes","TCometComposerTarget","cometComposerLogger","composerLexicalMessageFeedTransformDeferred","getDeferredComposerTransformer","getFeedComposerPostSubmissionComparators","gkx","react","react-compiler-runtime","requireDeferred","useCometResharesToasts","useComposerSubmit","useHandleErrorBySettingState","useUnifiedShareSheetLogger","useUnifiedSharesheetErrorHandler"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useState,c=r("requireDeferred")("composerAudienceFeedTransform").__setRef("useUnifiedSharesheetSubmitHandlers"),d=r("requireDeferred")("composerTrackingTransform").__setRef("useUnifiedSharesheetSubmitHandlers"),m=r("requireDeferred")("linkAttachmentAreaFeedCreationDataTransform").__setRef("useUnifiedSharesheetSubmitHandlers");function p(e,t,n,a,i,l,p){var g=o("react-compiler-runtime").c(41),h=u(!1),y=h[0],C=h[1],b=u(!1),v=b[0],S=b[1],R=r("useHandleErrorBySettingState")(),L=R[0],E=R[1],k;g[0]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"\u0b89\u0b99\u0bcd\u0b95\u0bb3\u0bc1\u0b9f\u0bc8\u0baf \u0b9a\u0bc1\u0baf\u0bb5\u0bbf\u0bb5\u0bb0\u0ba4\u0bcd\u0ba4\u0bbf\u0bb2\u0bcd \u0baa\u0b95\u0bbf\u0bb0\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f\u0bc1\u0bb3\u0bcd\u0bb3\u0ba4\u0bc1"),g[0]=k):k=g[0];var I=r("useCometResharesToasts")(k),T=I.showErrorToast,D=I.showPostingToast,x=I.showSuccessToast,$;g[1]!==a.feedLocation||g[2]!==l?($={entry_point:a.feedLocation,shareable_entity_fbid:l,sharing_action_audience:"private",sharing_action_destination:"feed",sharing_component_name:"share_now_button"},g[1]=a.feedLocation,g[2]=l,g[3]=$):$=g[3];var P=$,N=r("useUnifiedShareSheetLogger")(),M=N.onShareFailed,w=N.onShareOptionSelected,A=N.onShareSuccessful,F;g[4]===Symbol.for("react.memo_cache_sentinel")?(F=o("TCometComposerTarget").getComposerTargetType("feed"),g[4]=F):F=g[4];var O;g[5]!==t?(O={target:{id:t,type:F}},g[5]=t,g[6]=O):O=g[6];var B=O,W;g[7]===Symbol.for("react.memo_cache_sentinel")?(W=[r("getDeferredComposerTransformer")(m),r("getDeferredComposerTransformer")(c),r("getDeferredComposerTransformer")(d),r("composerLexicalMessageFeedTransformDeferred")],g[7]=W):W=g[7];var q=W,U;g[8]===Symbol.for("react.memo_cache_sentinel")?(U=function(){C(!0)},g[8]=U):U=g[8];var V=U,H;g[9]===Symbol.for("react.memo_cache_sentinel")?(H=function(){C(!1)},g[9]=H):H=g[9];var G=H,z=r("useUnifiedSharesheetErrorHandler")(a,i),j;g[10]!==z||g[11]!==P||g[12]!==M||g[13]!==E||g[14]!==T?(j=function(t,n,r){C(!1),E(t);var e=z(r),o=e.icon,a=e.onPress;T(void 0,o,a!=null?a:void 0),M(P)},g[10]=z,g[11]=P,g[12]=M,g[13]=E,g[14]=T,g[15]=j):j=g[15];var K=j,Q;g[16]!==P||g[17]!==A||g[18]!==x?(Q=function(t,n,o,a){C(!1),S(!0),A(P);var e=r("getFeedComposerPostSubmissionComparators")(t,o),i=e.getStoryURL;x(r("gkx")("11365")?null:i())},g[16]=P,g[17]=A,g[18]=x,g[19]=Q):Q=g[19];var X=Q,Y;g[20]!==e?(Y={UFI2CommentsProvider_commentsKey:"CometModernHomeFeedQuery",creationSessionID:e,feedbackSource:1,feedLocation:"NEWSFEED",renderLocation:"homepage_stream"},g[20]=e,g[21]=Y):Y=g[21];var J;g[22]!==t||g[23]!==e||g[24]!==X||g[25]!==K||g[26]!==Y?(J={actorID:t,composerEntryPoint:"share_modal",composerSourceSurface:"feed_story",composerType:"share",creationSessionID:e,getSubmissionFlowType:f,onCompleted:X,onError:K,requestType:"FEED",transformers:q,updater:_,variables:Y},g[22]=t,g[23]=e,g[24]=X,g[25]=K,g[26]=Y,g[27]=J):J=g[27];var Z=r("useComposerSubmit")(J,B),ee;g[28]!==e||g[29]!==P||g[30]!==w||g[31]!==p||g[32]!==D||g[33]!==n||g[34]!==Z?(ee=function(a){var t={fields:{composerEntryPointName:"share_modal",composerSourceSurface:"feed_story",composerType:"share"},type:"COMPOSER_ENTRY"};r("cometComposerLogger")(t,e),C(!0),w(babelHelpers.extends({},P,{is_link_sharing_url_used:o("CometLinkSharingUtil").isLinkSharingUrlUsed(p)})),Z({composerLoggingExtraData:{isNewsFeedSelected:!0},viewState:a}),D(),n!=null&&n.onSubmitCompleted&&(n==null||n.onSubmitCompleted())},g[28]=e,g[29]=P,g[30]=w,g[31]=p,g[32]=D,g[33]=n,g[34]=Z,g[35]=ee):ee=g[35];var te=ee,ne;return g[36]!==L||g[37]!==v||g[38]!==y||g[39]!==te?(ne={errorMetadata:L,isPosted:v,isSaving:y,onSubmitCommit:te,onSubmitHalt:G,onSubmitStart:V},g[36]=L,g[37]=v,g[38]=y,g[39]=te,g[40]=ne):ne=g[40],ne}function _(){}function f(){return o("ComposerSubmissionFlowTypes").ComposerSubmissionFlowTypes.DEFAULT}l.default=p}),226);